<body>
    <div>
        <div>
            <textarea id="input" style="width: 480px; height: 384px;"></textarea>
            <button id="btn">提取楼栋号</button>
        </div>
    </div>
    <textarea id="output" placeholder="这里会显示提取内容" readonly style="width: 480px; min-height: 75px;"></textarea>
    <script>
        let numMap = {
            '0': 0,
            '1': 1,
            '2': 2,
            '3': 3,
            '4': 4,
            '5': 5,
            '6': 6,
            '7': 7,
            '8': 8,
            '9': 9,
            '零': 0,
            '壹': 1,
            '贰': 2,
            '叁': 3,
            '肆': 4,
            '伍': 5,
            '陆': 6,
            '柒': 7,
            '捌': 8,
            '玖': 9
        }
        function checkIndex(str, index) {
            let sum = -1;
            let collect = 2;
            let ret = [];
            let ispass = false;
            for (let i = 0; i < str.length; i++) {
                let v = numMap[str.charAt(i)]
                if (v === undefined) { 
                    if(sum === -1) continue;
                    if(!ispass) { 
                        if(index != sum) {
                            return undefined;
                        }
                        ispass = true
                        sum = 0;
                        continue
                    }
                    if(collect <= 0) return ret.join("-");
                    if(sum === 0) { continue; }
                    collect--;
                    ret.push(sum)
                    sum = 0;
                } else {
                    if(sum == -1) {
                        sum = v;
                    } else {
                        sum = sum * 10 + v;
                    }
                }

            }
            return undefined;
        }
        document.getElementById('btn').onclick = function (ev) {
            let input = document.getElementById('input');
            let textContent = input.value;
            let output = document.getElementById('output');
            let arr = textContent.split("\n");
            let start = 1;
            let text = ""
            for (let item of arr) {
                let ret = checkIndex(item, start);
                if (ret) {
                    start++;
                    if(text === "") {
                        text = ret
                    } else {
                        text += "\n" + ret
                    }
                }
            }
            output.value = text
        }

    </script>

</body>
